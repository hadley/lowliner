<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>All news • purrr</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="../tidyverse.css" rel="stylesheet">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- tidyverse -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">purrr</a>
        <small class="tidyverse">part of the <a href="http://tidyverse.org">tidyverse</a></small>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
        <li>
  <a href="https://github.com/tidyverse/purrr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">

  <div class="col-md-9">
    <div class="page-header">
      <h1>Change log <small>All releases</small></h1>
    </div>

    <div class="contents">
    <div id="purrr-0-2-2-9000" class="section level1">
<h1 class="hasAnchor">
<a href="#purrr-0-2-2-9000" class="anchor"></a>purrr 0.2.2.9000</h1>
<div id="purrr-and-dplyr" class="section level2">
<h2 class="hasAnchor">
<a href="#purrr-and-dplyr" class="anchor"></a>purrr and dplyr</h2>
<p>purrr no longer depends on dplyr, lazyeval, or Rcpp. This makes the dependency graph of the tidyverse simpler, and makes purrr more suitable as a dependency of lower-level packages. This means that data-frame based mappers (<code>dmap()</code>, <code>dmap_at()</code>, <code>dmap_if()</code>, <code>invoke_rows()</code>, <code>slice_rows()</code>, <code>map_rows()</code>, <code>by_slice()</code>, <code>by_row()</code>, and <code>unslice()</code>) have been moved to a new package, purrrlyr. This is a bit of an aggressive change but it needed to be done, and in this case I think it’s better to rip the band aid off quickly.</p>
<p>There have also been two changes to eliminate name conflicts between purrr and dplyr:</p>
<ul>
<li><p><code>order_by()</code>, <code>sort_by()</code> and <code>split_by()</code> have been removed. <code>order_by()</code> conflicted with <code>dplyr::order_by()</code> and the complete family doesn’t feel that useful. Use tibbles instead (#217).</p></li>
<li><p><code>contains()</code> has been renamed to <code><a href="../reference/has_element.html">has_element()</a></code> to avoid conflicts with dplyr (#217).</p></li>
</ul>
</div>
<div id="map-helpers" class="section level2">
<h2 class="hasAnchor">
<a href="#map-helpers" class="anchor"></a>Map helpers</h2>
<ul>
<li><p><code><a href="../reference/as_mapper.html">as_function()</a></code> is now <code><a href="../reference/as_mapper.html">as_mapper()</a></code> because it is a tranformation that makes sense primarily for mapping functions, not in general (#298). <code>.null</code> has been renamed to <code>.default</code> to better reflect its intent (#298). <code>.default</code> is returned whenever an element is absent or empty (#231, #254).</p></li>
<li><p>Recursive indexing can now extract objects out of environments (#213) and S4 objects (#200), as well as lists.</p></li>
<li><p><code><a href="../reference/as_mapper.html">attr_getter()</a></code> makes it possible to extract from attributes like <code><a href="../reference/map.html">map(list(iris, mtcars), attr_getter("row.names"))</a></code>.</p></li>
<li><p>The argument list for formula-functions has been tweaked so that you can refer to arguments by position with <code>..1</code>, <code>..2</code>, and so on. This makes it possible to use the formula shorthand for functions with more than two arguments (#289).</p></li>
</ul>
</div>
<div id="map-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#map-functions" class="anchor"></a>Map functions</h2>
<ul>
<li><p>All map functions now treat <code>NULL</code> the same way as an empty vector (#199), and return an empty vector if any input is an empty vector.</p></li>
<li><p>All <code><a href="../reference/map.html">map()</a></code> functions now force their arguments in the same way that base R does for <code>lapply()</code> (#191). This makes <code><a href="../reference/map.html">map()</a></code> etc easier to use when generating functions.</p></li>
<li><p>A new family of “indexed” map functions, <code><a href="../reference/imap.html">imap()</a></code>, <code><a href="../reference/imap.html">imap_lgl()</a></code> etc, provide a short-hand for <code><a href="../reference/map2.html">map2(x, names(x))</a></code> or <code><a href="../reference/map2.html">map2(x, seq_along(x))</a></code> (#240).</p></li>
<li><p>The data frame suffix <code>_df</code> has been (soft) deprecated in favour of <code>_dfr</code> to more clearly indicate that it’s a row-bind. All variants now also have a <code>_dfc</code> for column binding (#167). (These will not be terribly useful until <code>dplyr::bind_rows()</code>/<code>dplyr::bind_cols()</code> have better semantics for vectors.)</p></li>
</ul>
</div>
<div id="modify-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#modify-functions" class="anchor"></a>Modify functions</h2>
<p><code><a href="../reference/map.html">map()</a></code> always returns a list, regardless of the input type. A new <code><a href="../reference/modify.html">modify()</a></code> family returns the same output of the type as the input <code>.x</code>. They rely on the semantics of <code>[&lt;-</code> so <code><a href="../reference/modify.html">modify()</a></code> is shorthand for <code>x[] &lt;- map(x, f)</code>.</p>
<ul>
<li><p><code><a href="../reference/modify.html">modify_if()</a></code> and <code><a href="../reference/modify.html">modify_at()</a></code> replace the now deprecated <code><a href="../reference/modify.html">map_at()</a></code> and <code><a href="../reference/modify.html">map_if()</a></code> (#169, #292). If you want the previous behaviour, just coerce <code>.x</code> to a list. <code><a href="../reference/modify.html">at_depth()</a></code> has been renamed to <code><a href="../reference/modify.html">modify_depth()</a></code>.</p></li>
<li><p><code><a href="../reference/modify.html">modify_depth()</a></code> gains new <code>.ragged</code> argument, and negative depths are now computed relative to the deepest component of the list (#236).</p></li>
<li><p><code><a href="../reference/modify.html">map_at()</a></code> and <code><a href="../reference/modify.html">map_if()</a></code> have been deprecated. Please use <code><a href="../reference/modify.html">modify_at()</a></code> and <code><a href="../reference/modify.html">modify_if()</a></code> instead .</p></li>
</ul>
</div>
<div id="new-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#new-functions" class="anchor"></a>New functions</h2>
<ul>
<li><p><code><a href="../reference/safely.html">auto_browse(f)</a></code> returns a new function that automatically calls <code>browser()</code> if <code>f</code> throws an error (#281).</p></li>
<li><p><code><a href="../reference/depth.html">depth()</a></code> computes the depth (i.e. the number of levels of indexing) or a vector (#243).</p></li>
<li><p><code><a href="../reference/reduce.html">reduce2()</a></code> and <code><a href="../reference/reduce.html">reduce2_right()</a></code> make it possible to reduce with a 3 argument function where the first argument is the accumulated value, the second argument is <code>.x</code>, and the third argument is <code>.y</code> (#163).</p></li>
<li><p><code><a href="../reference/list_modify.html">list_modify()</a></code> extends <code>stats::modifyList()</code> to replace by position if the list is not named. <code><a href="../reference/list_modify.html">list_update()</a></code> uses <code><a href="../reference/list_modify.html">list_modify()</a></code> (#201). <code><a href="../reference/list_modify.html">update_list()</a></code> has been renamed to <code><a href="../reference/list_modify.html">list_update()</a></code>.</p></li>
</ul>
</div>
<div id="minor-improvements-and-bug-fixes" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-improvements-and-bug-fixes" class="anchor"></a>Minor improvements and bug fixes</h2>
<ul>
<li><p>All predicate functions are re-exported from rlang (#124).</p></li>
<li><p><code><a href="../reference/keep.html">compact()</a></code> now works with standard mapper conventions (#282).</p></li>
<li><p><code><a href="../reference/cross.html">cross_n()</a></code> has been renamed to <code><a href="../reference/cross.html">cross()</a></code>. The <code>_n</code> suffix was removed for consistency with <code><a href="../reference/map2.html">pmap()</a></code> (originally called <code>map_n()</code> at the start of the project) and <code><a href="../reference/transpose.html">transpose()</a></code> (originally called <code>zip_n()</code>). Similarly, <code><a href="../reference/cross.html">cross_d()</a></code> has been renamed to <code><a href="../reference/cross.html">cross_df()</a></code> for consistency with <code><a href="../reference/map.html">map_df()</a></code>.</p></li>
<li><p><code><a href="../reference/every.html">every()</a></code> and <code><a href="../reference/every.html">some()</a></code> now return <code>NA</code> if present in the output (#174).</p></li>
<li><p><code><a href="../reference/invoke.html">invoke()</a></code> uses a more robust approach to generate the argument list (#249) It no longer uses lazyeval to figure out which enviroment a character <code>f</code> comes from.</p></li>
<li><p><code><a href="../reference/is_numeric.html">is_numeric()</a></code> and <code><a href="../reference/is_numeric.html">is_scalar_numeric()</a></code> are deprecated because they don’t test for what you might naively expect.</p></li>
<li><p><code><a href="../reference/reduce.html">reduce()</a></code> now throws an error if <code>.x</code> is empty and <code>.init</code> is not supplied.</p></li>
<li><p>Deprecated functions <code>flatmap()</code>, <code>map3()</code>, <code>map_n()</code>, <code>walk3()</code>, <code>walk_n()</code>, <code>zip2()</code>, <code>zip3()</code>, <code>zip_n()</code> have been removed.</p></li>
<li><p><code><a href="../reference/map2.html">pmap()</a></code> coerces data frames to lists to avoid the expensive <code>[.data.frame</code> which provides security that is unneeded here (#220).</p></li>
<li><p><code><a href="../reference/rdunif.html">rdunif()</a></code> checks its inputs for validity (#211).</p></li>
<li><p><code><a href="../reference/set_names.html">set_names()</a></code> can now take a function to tranform the names programmatically (#276).</p></li>
<li><p><code><a href="../reference/safely.html">safely()</a></code> now actually uses the <code>quiet</code> argument (#296).</p></li>
<li><p><code><a href="../reference/transpose.html">transpose()</a></code> now matches by name if available (#164). You can override the default choice with the new <code>.names</code> argument.</p></li>
</ul>
</div>
</div>
    <div id="purrr-0-2-2" class="section level1">
<h1 class="hasAnchor">
<a href="#purrr-0-2-2" class="anchor"></a>purrr 0.2.2</h1>
<ul>
<li><p>Fix for dev tibble support.</p></li>
<li><p><code><a href="../reference/as_mapper.html">as_function()</a></code> now supports list arguments which allow recursive indexing using either names or positions. They now always stop when encountering the first NULL (#173).</p></li>
<li><p><code>accumulate</code> and <code>reduce</code> correctly pass extra arguments to the worker function.</p></li>
</ul>
</div>
    <div id="purrr-0-2-1" class="section level1">
<h1 class="hasAnchor">
<a href="#purrr-0-2-1" class="anchor"></a>purrr 0.2.1</h1>
<ul>
<li><p><code><a href="../reference/as_mapper.html">as_function()</a></code> gains a <code>.null</code> argument that for character and numeric values allows you to specify what to return for null/absent elements (#110). This can be used with any map function, e.g. <code><a href="../reference/map.html">map_int(x, 1, .null = NA)</a></code></p></li>
<li><p><code><a href="../reference/as_mapper.html">as_function()</a></code> is now generic.</p></li>
<li><p>New <code><a href="../reference/reexports.html">is_function()</a></code> that returns <code>TRUE</code> only for regular functions.</p></li>
<li><p>Fix crash on GCC triggered by <code>invoke_rows()</code>.</p></li>
</ul>
</div>
    <div id="purrr-0-2-0" class="section level1">
<h1 class="hasAnchor">
<a href="#purrr-0-2-0" class="anchor"></a>purrr 0.2.0</h1>
<div id="new-functions-1" class="section level2">
<h2 class="hasAnchor">
<a href="#new-functions-1" class="anchor"></a>New functions</h2>
<ul>
<li>
<p>There are two handy infix functions:</p>
<ul>
<li>
<code><a href="../reference/null-default.html">x %||% y</a></code> is shorthand for <code>if (is.null(x)) y else x</code> (#109).</li>
<li>
<code><a href="../reference/get-attr.html">x %@% "a"</a></code> is shorthand for <code>attr(x, "a", exact = TRUE)</code> (#69).</li>
</ul>
</li>
<li><p><code><a href="../reference/accumulate.html">accumulate()</a></code> has been added to handle recursive folding. It is shortand for <code>Reduce(f, .x, accumulate = TRUE)</code> and follows a similar syntax to <code><a href="../reference/reduce.html">reduce()</a></code> (#145). A right-hand version <code><a href="../reference/accumulate.html">accumulate_right()</a></code> was also added.</p></li>
<li><p><code><a href="../reference/map.html">map_df()</a></code> row-binds output together. It’s the equivalent of <code>plyr::ldply()</code> (#127)</p></li>
<li><p><code><a href="../reference/flatten.html">flatten()</a></code> is now type-stable and always returns a list. To return a simpler vector, use <code><a href="../reference/flatten.html">flatten_lgl()</a></code>, <code><a href="../reference/flatten.html">flatten_int()</a></code>, <code><a href="../reference/flatten.html">flatten_dbl()</a></code>, <code><a href="../reference/flatten.html">flatten_chr()</a></code>, or <code><a href="../reference/flatten.html">flatten_df()</a></code>.</p></li>
<li><p><code><a href="../reference/invoke.html">invoke()</a></code> has been overhauled to be more useful: it now works similarly to <code><a href="../reference/invoke.html">map_call()</a></code> when <code>.x</code> is NULL, and hence <code><a href="../reference/invoke.html">map_call()</a></code> has been deprecated. <code><a href="../reference/invoke.html">invoke_map()</a></code> is a vectorised complement to <code><a href="../reference/invoke.html">invoke()</a></code> (#125), and comes with typed variants <code><a href="../reference/invoke.html">invoke_map_lgl()</a></code>, <code><a href="../reference/invoke.html">invoke_map_int()</a></code>, <code><a href="../reference/invoke.html">invoke_map_dbl()</a></code>, <code><a href="../reference/invoke.html">invoke_map_chr()</a></code>, and <code><a href="../reference/invoke.html">invoke_map_df()</a></code>.</p></li>
<li><p><code><a href="../reference/transpose.html">transpose()</a></code> replaces <code>zip2()</code>, <code>zip3()</code>, and <code>zip_n()</code> (#128). The name more clearly reflects the intent (transposing the first and second levels of list). It no longer has fields argument or the <code>.simplify</code> argument; instead use the new <code><a href="../reference/as_vector.html">simplify_all()</a></code> function.</p></li>
<li><p><code><a href="../reference/safely.html">safely()</a></code>, <code><a href="../reference/safely.html">quietly()</a></code>, and <code><a href="../reference/safely.html">possibly()</a></code> are experimental functions for working with functions with side-effects (e.g. printed output, messages, warnings, and errors) (#120). <code><a href="../reference/safely.html">safely()</a></code> is a version of <code>try()</code> that modifies a function (rather than an expression), and always returns a list with two components, <code>result</code> and <code>error</code>.</p></li>
<li><p><code><a href="../reference/along.html">list_along()</a></code> and <code><a href="../reference/along.html">rep_along()</a></code> generalise the idea of <code>seq_along()</code>. (#122).</p></li>
<li><p><code><a href="../reference/reexports.html">is_null()</a></code> is the snake-case version of <code>is.null()</code>.</p></li>
<li><p><code><a href="../reference/map2.html">pmap()</a></code> (parallel map) replaces <code>map_n()</code> (#132), and has typed-variants suffixed <code><a href="../reference/map2.html">pmap_lgl()</a></code>, <code><a href="../reference/map2.html">pmap_int()</a></code>, <code><a href="../reference/map2.html">pmap_dbl()</a></code>, <code><a href="../reference/map2.html">pmap_chr()</a></code>, and <code><a href="../reference/map2.html">pmap_df()</a></code>.</p></li>
<li><p><code><a href="../reference/set_names.html">set_names()</a></code> is a snake-case alternative to <code>setNames()</code> with stricter equality checking, and more convenient defaults for pipes: <code><a href="../reference/pipe.html">x %&gt;% set_names()</a></code> is equivalent to <code>setNames(x, x)</code> (#119).</p></li>
</ul>
</div>
<div id="row-based-functionals" class="section level2">
<h2 class="hasAnchor">
<a href="#row-based-functionals" class="anchor"></a>Row based functionals</h2>
<p>We are still figuring out what belongs in dplyr and what belongs in purrr. Expect much experimentation and many changes with these functions.</p>
<ul>
<li><p><code><a href="../reference/map.html">map()</a></code> now always returns a list. Data frame support has been moved to <code><a href="../reference/map.html">map_df()</a></code> and <code>dmap()</code>. The latter supports sliced data frames as a shortcut for the combination of <code>by_slice()</code> and <code>dmap()</code>: <code><a href="../reference/pipe.html">x %&gt;% by_slice(dmap, fun, .collate = "rows")</a></code>. The conditional variants <code>dmap_at()</code> and <code>dmap_if()</code> also support sliced data frames and will recycle scalar results to the slice size.</p></li>
<li><p><code>map_rows()</code> has been renamed to <code>invoke_rows()</code>. As other rows-based functionals, it collates results inside lists by default, but with column collation this function is equivalent to <code>plyr::mdply()</code>.</p></li>
<li><p>The rows-based functionals gain a <code>.to</code> option to name the output column as well as a <code>.collate</code> argument. The latter allows to collate the output in lists (by default), on columns or on rows. This makes these functions more flexible and more predictable.</p></li>
</ul>
</div>
<div id="bug-fixes-and-minor-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-and-minor-changes" class="anchor"></a>Bug fixes and minor changes</h2>
<ul>
<li><p><code><a href="../reference/as_mapper.html">as_function()</a></code>, which converts formulas etc to functions, is now exported (#123).</p></li>
<li><p><code><a href="../reference/rerun.html">rerun()</a></code> is correctly scoped (#95)</p></li>
<li><p><code><a href="../reference/list_modify.html">update_list()</a></code> can now modify an element called <code>x</code> (#98).</p></li>
<li><p><code>map*()</code> now use custom C code, rather than relying on <code>lapply()</code>, <code>mapply()</code> etc. The performance characteristcs are very similar, but it allows us greater control over the output (#118).</p></li>
<li><p><code><a href="../reference/map.html">map_lgl()</a></code> now has second argument <code>.f</code>, not <code>.p</code> (#134).</p></li>
</ul>
</div>
<div id="deprecated-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#deprecated-functions" class="anchor"></a>Deprecated functions</h2>
<ul>
<li><p><code>flatmap()</code> -&gt; use <code><a href="../reference/map.html">map()</a></code> followed by the appropriate <code><a href="../reference/flatten.html">flatten()</a></code>.</p></li>
<li><p><code><a href="../reference/invoke.html">map_call()</a></code> -&gt; <code><a href="../reference/invoke.html">invoke()</a></code>.</p></li>
<li><p><code>map_n()</code> -&gt; <code><a href="../reference/map2.html">pmap()</a></code>; <code>walk_n()</code> -&gt; <code><a href="../reference/map2.html">pwalk()</a></code>.</p></li>
<li><p><code>map3(x, y, z)</code> -&gt; <code>map_n(list(x, y, z))</code>; <code>walk3(x, y, z) -&gt;</code>pwalk(list(x, y, z))`</p></li>
</ul>
</div>
</div>
    </div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
        <li><a href="#purrr-0-2-2-9000">0.2.2.9000</a></li>
        <li><a href="#purrr-0-2-2">0.2.2</a></li>
        <li><a href="#purrr-0-2-1">0.2.1</a></li>
        <li><a href="#purrr-0-2-0">0.2.0</a></li>
      </ul>
    </div>
  </div>

</div>

      <footer>
      <div class="tidyverse">
  <p>purrr is a part of the <strong>tidyverse</strong>, an ecosystem of packages designed with common APIs and a shared philosophy. Learn more at <a href="http://tidyverse.org">tidyverse.org</a>.</p>
</div>

<div class="author">
  <p>Developed by <a href='http://hadley.nz'>Hadley Wickham</a>, <a href='https://www.rstudio.com'><img src='http://tidyverse.org/rstudio-logo.svg' height='24' /></a>.</p>
  <p>Site built by <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-67989-18', 'auto');
  ga('send', 'pageview');
</script>
      </footer>
   </div>

  </body>
</html>
